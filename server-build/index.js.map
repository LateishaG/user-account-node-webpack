{"version":3,"file":"index.js","mappings":"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","sources":["webpack://user-account-node/external module \"@reduxjs/toolkit\"","webpack://user-account-node/external module \"@sendgrid/mail\"","webpack://user-account-node/external module \"axios\"","webpack://user-account-node/external module \"bcryptjs\"","webpack://user-account-node/external module \"dotenv\"","webpack://user-account-node/external module \"express\"","webpack://user-account-node/external module \"jsonwebtoken\"","webpack://user-account-node/external module \"react\"","webpack://user-account-node/external module \"react-dom/server\"","webpack://user-account-node/external module \"react-redux\"","webpack://user-account-node/external module \"react-router-dom\"","webpack://user-account-node/external module \"react-router-dom/server.js\"","webpack://user-account-node/external module \"sequelize\"","webpack://user-account-node/external module \"url\"","webpack://user-account-node/external node-commonjs \"fs\"","webpack://user-account-node/external node-commonjs \"path\"","webpack://user-account-node/./server/api/auth.js","webpack://user-account-node/./server/api/middleware.js","webpack://user-account-node/./server/app.js","webpack://user-account-node/./server/db/User.js","webpack://user-account-node/./server/db/conn.js","webpack://user-account-node/./server/db/index.js","webpack://user-account-node/./src/Components/App.js","webpack://user-account-node/./src/Components/Confirmation.js","webpack://user-account-node/./src/Components/CreateAccount.js","webpack://user-account-node/./src/Components/Home.js","webpack://user-account-node/./src/Components/Login.js","webpack://user-account-node/./src/Components/Profile.js","webpack://user-account-node/./src/store/authSlice.js","webpack://user-account-node/./src/store/index.js","webpack://user-account-node/webpack/bootstrap","webpack://user-account-node/webpack/runtime/define property getters","webpack://user-account-node/webpack/runtime/hasOwnProperty shorthand","webpack://user-account-node/webpack/runtime/make namespace object","webpack://user-account-node/./server/index.js"],"sourcesContent":["var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__reduxjs_toolkit_fb094368__;","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__sendgrid_mail_fbccceac__;","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_axios__;","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_bcryptjs__;","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_dotenv__;","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_express__;","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_jsonwebtoken__;","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_react__;","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_react_dom_server_ec84c2b9__;","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_react_redux_87be03b0__;","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_react_router_dom_a27720b7__;","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_react_router_dom_server_js_f6b656a2__;","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_sequelize__;","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_url__;","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"fs\");","module.exports = __WEBPACK_EXTERNAL_createRequire(import.meta.url)(\"path\");","import express from 'express';\nconst app = express.Router();\nimport { User } from '../db/index.js';\nimport isLoggedIn from './middleware.js';\nimport sgMail from '@sendgrid/mail';\nimport jwt from 'jsonwebtoken';\nimport path from 'path';\n\nexport default app;\n\napp.post('/', async (req, res, next) => {\n  try {\n    res.status(200).send(await User.authenticate(req.body));\n  } catch (err) {\n    next(err);\n  }\n});\n\napp.post('/register', async (req, res, next) => {\n  try {\n    const user = await User.create(req.body);\n    //create email token to use in confirmation url\n\n    const emailToken = jwt.sign({ id: user.id }, process.env.EMAILJWT, {\n      expiresIn: '10m'\n    });\n    const url = `http://localhost:3000/confirmation/${emailToken}`;\n    sgMail.setApiKey(process.env.SENDGRID_API_KEY);\n    const msg = {\n      to: user.email, // Change to your recipient\n      from: process.env.EMAILSENDER, // Change to your verified sender\n      subject: 'Email Confirmation',\n      text: 'please click the confirmation link',\n      html: `<p> please click the confirmation link: <a href= \"${url}\"> ${url} </a></p>` //conformation url\n    };\n    sgMail\n      .send(msg)\n      .then(() => {\n        console.log('Email sent');\n      })\n      .catch(error => {\n        console.error(error);\n      });\n    res.send(user.generateToken());\n  } catch (err) {\n    next(err);\n  }\n});\n\n//add a confirmation route\napp.put('/confirmation/email/', async (req, res, next) => {\n  try {\n    const { id } = jwt.verify(req.body.token, process.env.EMAILJWT);\n\n    const user = await User.findByPk(id);\n    if (user.id === id) {\n      await user.update({ emailVerification: true });\n      res.send({ verification: 'confirmed' });\n    } else {\n      res.send({ verification: 'invalid' });\n    }\n  } catch (err) {\n    next(err);\n  }\n});\n\napp.get('/', isLoggedIn, (req, res, next) => {\n  try {\n    res.send(req.user);\n  } catch (err) {\n    next(err);\n  }\n});\n\napp.put('/', isLoggedIn, async (req, res, next) => {\n  try {\n    const user = req.user;\n    //define the properties a user can change\n    await user.update(req.body);\n    res.send(user);\n  } catch (err) {\n    next(err);\n  }\n});\n","import { User } from '../db/index.js';\n\nconst isLoggedIn = async (req, res, next) => {\n  try {\n    const user = await User.findByToken(req.headers.authorization);\n    req.user = user;\n    next();\n  } catch (err) {\n    console.log(err);\n    next(err);\n  }\n};\n\nexport default isLoggedIn;\n","import express from 'express';\nconst app = express();\nimport * as dotENV from 'dotenv';\ndotENV.config();\nimport path from 'path';\nimport fs from 'fs';\nimport URL from 'url';\nimport authRouter from './api/auth.js';\n//import confirmationRouter from './confirmation.js';\n\nimport React from 'react';\nimport ReactDOMServer from 'react-dom/server';\nimport { StaticRouter } from 'react-router-dom/server.js';\nimport { Provider } from 'react-redux';\nimport App from '../src/Components/App.js';\nimport store from '../src/store';\n\nconst __dirname = URL.fileURLToPath(path.normalize(import.meta.url + '/..'));\n\napp.use(express.json({ limit: '50mb' }));\napp.use('/dist', express.static(path.join(__dirname, '../dist')));\n\napp.use('/api/auth', authRouter);\n//app.use('/confirmation', confirmationRouter);\n\napp.get('*', (req, res) => {\n  //res.sendFile(path.join(__dirname, '../static/index.html'));\n  console.log(req.url);\n\n  const clientApp = ReactDOMServer.renderToString(\n    <Provider store={store}>\n      <StaticRouter location={req.url}>\n        <App />\n      </StaticRouter>\n    </Provider>\n  );\n  const indexFile = path.resolve('./static/index.html');\n\n  fs.readFile(indexFile, 'utf8', (err, data) => {\n    if (err) {\n      console.error('Something went wrong:', err);\n      return res.status(500).send('Oops, better luck next time!');\n    }\n\n    return res.send(\n      data.replace('<div id=\"root\"></div>', `<div id=\"root\">${clientApp}</div>`)\n    );\n  });\n});\n\napp.use((err, req, res, next) => {\n  console.log(err);\n  next(err);\n});\n\nexport default app;\n","import conn from './conn.js';\nconst { UUID, UUIDV4, STRING, BOOLEAN } = conn.Sequelize;\nimport bcrypt from 'bcryptjs';\nimport jwt from 'jsonwebtoken';\nconst JWT = process.env.JWT;\n\nconst User = conn.define('user', {\n  id: {\n    type: UUID,\n    primaryKey: true,\n    defaultValue: UUIDV4\n  },\n  email: {\n    type: STRING,\n    allowNull: false,\n\n    validate: {\n      notEmpty: true,\n      isEmail: true\n    }\n  },\n  username: {\n    type: STRING,\n    allowNull: false,\n    unique: true,\n\n    validate: {\n      notEmpty: true\n    }\n  },\n  password: {\n    type: STRING,\n    allowNull: false,\n\n    validate: {\n      notEmpty: true\n    }\n  },\n  emailVerification: {\n    type: BOOLEAN,\n    allowNull: false,\n    defaultValue: false\n  }\n});\n\nUser.addHook('beforeSave', async user => {\n  if (user.changed('password')) {\n    user.password = await bcrypt.hash(user.password, 10);\n  }\n});\n\nUser.authenticate = async function ({ username, password }) {\n  const user = await this.findOne({\n    where: {\n      username\n    }\n  });\n\n  if (user && (await bcrypt.compare(password, user.password))) {\n    return user.generateToken();\n  }\n\n  const error = new Error('bad credentials');\n  error.status = 401;\n  throw error;\n};\n\nUser.prototype.generateToken = function () {\n  return jwt.sign({ id: this.id }, JWT, { expiresIn: '1d' });\n};\n\nUser.findByToken = async function (token) {\n  try {\n    const { id } = jwt.verify(token, process.env.JWT);\n    const user = await this.findByPk(id);\n    if (user) {\n      return user;\n    }\n    throw 'user not found';\n  } catch (err) {\n    const error = new Error('bad credentials');\n    error.status = 401;\n    throw error;\n  }\n};\n\nexport default User;\n","import Sequelize from 'sequelize';\nconst config = { dialect: 'postgres', host: process.env.HOST || 'localhost' };\n\nif (process.env.QUIET) {\n  config.logging = false;\n}\nconst conn = new Sequelize(\n  process.env.DATABASE_NAME || 'acme_db',\n  process.env.USERNAME || null,\n  process.env.PASSWORD || null,\n  config\n);\n\nexport default conn;\n","import conn from './conn.js';\nimport User from './User.js';\n\nexport const syncAndSeed = async () => {\n  await conn.sync({ force: true });\n  const moe = await User.create({\n    username: 'moe',\n    password: '123',\n    email: 'test@example.com',\n    emailVerification: true\n  });\n  const lucy = await User.create({\n    username: 'lucy',\n    password: '123',\n    email: 'test@example.com',\n    emailVerification: true\n  });\n  const larry = await User.create({\n    username: 'larry',\n    password: '123',\n    email: 'test@example.com',\n    emailVerification: true\n  });\n  const ethyl = await User.create({\n    username: 'ethyl',\n    password: '123',\n    email: 'test@example.com',\n    emailVerification: true\n  });\n\n  return {\n    users: { moe, lucy, larry, ethyl }\n  };\n};\n\nexport { User };\n","import React, { useEffect } from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport Home from './Home';\nimport Login from './Login';\nimport Profile from './Profile';\nimport Confirmation from './Confirmation';\nimport CreateAccount from './CreateAccount';\nimport { loginWithToken, logout } from '../store/authSlice';\n\nconst App = () => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(loginWithToken());\n  }, []);\n\n  //todo: have logout/ no auth remove access to certain pages, also add visual for login/logout status\n\n  return (\n    <div>\n      <h1>Acme Test</h1>\n\n      <Routes>\n        <Route\n          path='/'\n          element={<Home />}\n        />\n        <Route\n          path='/login'\n          element={<Login />}\n        />\n        <Route\n          path='/createaccount'\n          element={<CreateAccount />}\n        />\n        <Route\n          path='/profile'\n          element={<Profile />}\n        />\n        <Route\n          path='/confirmation/:emailToken'\n          element={<Confirmation />}\n        />\n      </Routes>\n    </div>\n  );\n};\n\nexport default App;\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { updateConfirmation } from '../store/authSlice';\n\nconst Confirmation = () => {\n  const { emailToken } = useParams();\n  const navigate = useNavigate();\n\n  const [result, setResult] = useState({ verification: 'loading' });\n\n  useEffect(() => {\n    const sendConfirmation = async () => {\n      setResult(await updateConfirmation(emailToken));\n    };\n    sendConfirmation();\n  }, []);\n\n  return (\n    <div>\n      <h1>{`Confirmation Status: ${result.verification}`}</h1>\n    </div>\n  );\n};\n\nexport default Confirmation;\n","import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { register } from '../store/authSlice';\n\nconst CreateAccount = () => {\n  const [credentials, setCredentials] = useState({\n    email: '',\n    username: '',\n    password: ''\n  });\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const onChange = ev => {\n    setCredentials({ ...credentials, [ev.target.name]: ev.target.value });\n  };\n\n  const create = ev => {\n    ev.preventDefault();\n    dispatch(register(credentials));\n    navigate('/');\n  };\n\n  return (\n    <div>\n      <h1>Create Account</h1>\n      <button onClick={() => navigate('/login')}>Login</button>\n      <Link to='/'>Home</Link>\n\n      <form onSubmit={create}>\n        <label htmlFor='email'>Email: </label>\n        <input\n          id='email'\n          name='email'\n          value={credentials.email}\n          onChange={onChange}\n        />\n        <label htmlFor='usr'>Username: </label>\n        <input\n          id='usr'\n          name='username'\n          value={credentials.username}\n          onChange={onChange}\n        />\n        <label htmlFor='pas'>Password: </label>\n        <input\n          id='pas'\n          name='password'\n          value={credentials.password}\n          onChange={onChange}\n        />\n        <button>Submit</button>\n      </form>\n    </div>\n  );\n};\n\nexport default CreateAccount;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst Home = () => {\n  const authInfo = useSelector(state => state.auth.info);\n\n  console.log(authInfo);\n\n  return (\n    <div>\n      <h1> Welcome </h1>\n      {authInfo.id ? (\n        <Link to='/profile'>Profile</Link>\n      ) : (\n        <Link to='/login'>Login</Link>\n      )}\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { attemptLogin } from '../store/authSlice';\n\nconst Login = () => {\n  const [credentials, setCredentials] = useState({\n    username: '',\n    password: ''\n  });\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const onChange = ev => {\n    setCredentials({ ...credentials, [ev.target.name]: ev.target.value });\n  };\n\n  const login = ev => {\n    ev.preventDefault();\n    dispatch(attemptLogin(credentials));\n    navigate('/');\n  };\n\n  return (\n    <div>\n      <h1>Login</h1>\n      <button onClick={() => navigate('/createaccount')}>Create Account</button>\n      <Link to='/'>Home</Link>\n\n      <form onSubmit={login}>\n        <label htmlFor='usr'>Username: </label>\n        <input\n          id='usr'\n          name='username'\n          value={credentials.username}\n          onChange={onChange}\n        />\n        <label htmlFor='pas'>Password: </label>\n        <input\n          id='pas'\n          name='password'\n          value={credentials.password}\n          onChange={onChange}\n        />\n        <button>Submit</button>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Profile = () => {\n  return (\n    <div>\n      <h1>Profile</h1>\n      <Link to='/'>Home</Link>\n    </div>\n  );\n};\n\nexport default Profile;\n","import axios from 'axios';\nimport { createSlice } from '@reduxjs/toolkit';\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState: {\n    info: {}\n  },\n  reducers: {\n    setAuth: (state, action) => {\n      state.info = action.payload;\n    }\n  }\n});\n\nconst { setAuth } = authSlice.actions;\n\nexport const logout = dispatch => {\n  window.localStorage.removeItem('token');\n  dispatch(setAuth({}));\n};\n\nexport const loginWithToken = () => async dispatch => {\n  const token = window.localStorage.getItem('token');\n  if (token) {\n    const response = await axios.get('/api/auth', {\n      headers: {\n        authorization: token\n      }\n    });\n    dispatch(setAuth(response.data));\n  }\n};\n\nexport const attemptLogin = credentials => async dispatch => {\n  const response = await axios.post('/api/auth', credentials);\n  window.localStorage.setItem('token', response.data);\n  dispatch(loginWithToken());\n};\n\nexport const register = credentials => async dispatch => {\n  const response = await axios.post('/api/auth/register', credentials);\n  window.localStorage.setItem('token', response.data);\n  dispatch(loginWithToken());\n};\n\nexport const updateConfirmation = async emailToken => {\n  const response = await axios.put('/api/auth/confirmation/email', {\n    token: emailToken\n  });\n  return response.data;\n};\n\nexport default authSlice.reducer;\n","import { configureStore } from '@reduxjs/toolkit';\nimport authReducer from './authSlice';\n\nconst store = configureStore({\n  reducer: {\n    auth: authReducer\n  }\n});\n\nexport default store;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import app from './app.js';\nimport { syncAndSeed } from './db/index.js';\n\nconst init = async () => {\n  try {\n    if (process.env.SYNC !== 'NO') {\n      await syncAndSeed();\n    }\n\n    const port = process.env.PORT || 3000;\n    const server = app.listen(port, () =>\n      console.log(`listening on port ${port}`)\n    );\n  } catch (err) {\n    console.log(err);\n  }\n};\n\ninit();\n"],"names":["express","app","Router","User","isLoggedIn","sgMail","jwt","path","post","req","res","next","status","send","authenticate","body","err","user","create","emailToken","sign","id","process","env","EMAILJWT","expiresIn","url","setApiKey","SENDGRID_API_KEY","msg","to","email","from","EMAILSENDER","subject","text","html","then","console","log","catch","error","generateToken","put","verify","token","findByPk","update","emailVerification","verification","get","findByToken","headers","authorization","dotENV","config","fs","URL","authRouter","React","ReactDOMServer","StaticRouter","Provider","App","store","__dirname","fileURLToPath","normalize","import","meta","use","json","limit","static","join","clientApp","renderToString","createElement","location","indexFile","resolve","readFile","data","replace","conn","UUID","UUIDV4","STRING","BOOLEAN","Sequelize","bcrypt","JWT","define","type","primaryKey","defaultValue","allowNull","validate","notEmpty","isEmail","username","unique","password","addHook","changed","hash","findOne","where","compare","Error","prototype","dialect","host","HOST","QUIET","logging","DATABASE_NAME","USERNAME","PASSWORD","syncAndSeed","sync","force","moe","lucy","larry","ethyl","users","useEffect","Routes","Route","useDispatch","Home","Login","Profile","Confirmation","CreateAccount","loginWithToken","logout","dispatch","element","useState","useNavigate","useParams","updateConfirmation","navigate","result","setResult","sendConfirmation","Link","register","credentials","setCredentials","onChange","ev","target","name","value","preventDefault","onClick","onSubmit","htmlFor","useSelector","authInfo","state","auth","info","attemptLogin","login","axios","createSlice","authSlice","initialState","reducers","setAuth","action","payload","actions","window","localStorage","removeItem","getItem","response","setItem","reducer","configureStore","authReducer","init","SYNC","port","PORT","server","listen"],"sourceRoot":""}